var Dropdown=function(){function n(n,t,i,r,u){this.elements=n;var f=this;this.searchquery=ko.observable(""),this.chosenitems=ko.observableArray(),this.inputfocus=ko.observable(!1),this.dropdownopen=new ko.observable(!1),this.focusmoved=ko.computed(function(){f.inputfocus()||f.dropdownopen(!1)}).extend({throttle:100}),this.itemstoshow=ko.computed(function(){var t=f.searchquery().toLowerCase().trim(),i=[];return t.length?ko.utils.arrayForEach(n,function(n){var r=n.toLowerCase().indexOf(t);r>-1&&(n=n.slice(0,r)+"<b>"+n.slice(r,r+t.length)+"<\/b>"+n.slice(r+t.length),i.push(n))}):i=n.slice(0),ko.utils.arrayForEach(f.chosenitems(),function(n){ko.utils.arrayRemoveItem(i,n)}),i.sort()}),this.helptxt=ko.computed(function(){var n=f.itemstoshow().length;return f.elements.length==f.chosenitems().length?r||"No more items to choose from":n===0?i||"No matches found":u||"Press enter to add the first highlighted item"}),this.buttontext=ko.computed(function(){var n=f.chosenitems();return n.length>0?n.toString()+'   <span class ="caret"><\/span>':t||'Choose item   <span class="caret"><\/span>'})}return n.prototype.keypressed=function(n,t){if(t.charCode==13)this.itemstoshow().length&&this.additem(this.itemstoshow()[0]);else return!0},n.prototype.buttonclick=function(){this.dropdownopen(!this.dropdownopen()),this.inputfocus(this.dropdownopen()),this.searchquery("")},n.prototype.additem=function(n){this.chosenitems.push(n.replace("<b>","").replace("<\/b>","")),this.chosenitems.sort(),this.searchquery(""),this.dropdownopen(!0),this.inputfocus(!0)},n.prototype.removeitem=function(n){this.chosenitems.remove(n),this.dropdownopen(!0),this.inputfocus(!0)},n}(),viewmodel=function(){function n(){this.drop=new Dropdown(countries)}return n}(),countries;window.onload=function(){var n=new viewmodel;ko.applyBindings(n)},countries=["Armenia","Brazil","Canada","Denmark","Bolivia"]